"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.StateSchema = void 0;
const user_1 = require("./user");
const v1_1 = require("../../v1");
const v1 = v1_1.Types.Api.Types;
class StateSchema {
    version;
    schemaVersion = 2;
    deviceId;
    agreements;
    user;
    users;
    static migration = (oldValue) => {
        let old = oldValue;
        let user = user_1.MountedUserSchema.migration(oldValue.user);
        let users = oldValue.users.map((user) => user_1.MountedUserSchema.migration(user));
        return Object.assign({}, old, {
            user,
            users,
            schemaVersion: 2,
        });
    };
}
exports.StateSchema = StateSchema;
//# sourceMappingURL=state.js.map